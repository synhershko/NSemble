@using System
@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<dynamic>
@{
    Layout = "_Layout.cshtml";
}

@section HeadArea {
    <link id="AtomLink" title="RSS" type="application/rss+xml" rel="alternate" href="@ViewBag.AreaRoutePrefix/rss">
    
    <style type="text/css">
        .comment-replies
        {
            list-style: none;
            border-left: 1px solid #ccc;
            padding-top: 10px;
            border-bottom: 1px solid #ccc;
        }
        ul.comment-replies .row {
            margin-bottom: 5px;
        }
        ul.comment-replies .row > div.comment-replies-spacer
        {
            border-bottom: 1px solid #ccc;
            margin-right: 0;
            min-height: 26px;
            padding-left: 0;padding-right: 0;
        }
        ul.comment-replies .row > div.comment-replies-gravatar {
            margin-left: 2px;
        }
    </style>
}

<div class="row">
    <main class="col-md-8">
        @RenderBody()
    </main>
    <aside class="col-md-4">
        @foreach (var widget in Model.Widgets)
        {
            // TODO: Check RegionName
            // TODO: Move to helper method
            @Html.Partial(widget.ViewName, widget.Content)
            <hr/>
        }
    </aside>
</div>